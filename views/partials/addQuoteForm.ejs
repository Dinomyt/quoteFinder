<form class="needs-validation" novalidate action="/api/quotes/<%= quote.quoteId %>" method="POST">
  <div class="mb-3">
    <label for="quoteText" class="form-label">Quote</label>
    <textarea
      class="form-control"
      id="quoteText"
      name="quote"
      rows="3"
      required
      minlength="10"
      maxlength="500"
    ><%= quote.quote %></textarea>
    <div class="invalid-feedback">
      Please enter a quote (10–500 characters).
    </div>
  </div>

  <div class="mb-3">
    <label for="authorSelect" class="form-label">Author</label>
    <select
      class="form-select"
      id="authorSelect"
      name="authorId"
      required
    >
      <option value="" disabled>Choose an author…</option>
      <% authors.forEach(function(a) { %>
        <option
          value="<%= a.authorId %>"
          <%= a.authorId === quote.authorId ? 'selected' : '' %>
        >
          <%= a.firstName %> <%= a.lastName %>
        </option>
      <% }) %>
    </select>
    <div class="invalid-feedback">
      You must select an author.
    </div>
  </div>

  <div class="mb-3">
    <label for="categoryInput" class="form-label">Category</label>
    <input
      type="text"
      class="form-control"
      id="categoryInput"
      name="category"
      value="<%= quote.category %>"
      required
      pattern="[A-Za-z0-9 ]{3,50}"
      maxlength="50"
    >
    <div class="invalid-feedback">
      Category must be 3–50 letters or numbers.
    </div>
  </div>

  <div class="mb-3">
    <label for="likesInput" class="form-label">Likes</label>
    <input
      type="number"
      class="form-control"
      id="likesInput"
      name="likes"
      value="<%= quote.likes %>"
      required
      min="0"
      step="1"
    >
    <div class="invalid-feedback">
      Please enter a non-negative integer.
    </div>
  </div>

  <div class="d-flex justify-content-end">
    <button
      type="button"
      class="btn btn-secondary me-2"
      data-bs-dismiss="modal"
    >
      Cancel
    </button>
    <button type="submit" class="btn btn-primary">
      Save Changes
    </button>
  </div>
</form>
